<!DOCTYPE html>
<html>
<head>
<title>Tunexa Dashboard</title>
<style>
body{background:#667eea;color:white;font-family:Arial;padding:20px}
.box{background:rgba(255,255,255,0.2);padding:20px;margin:10px;border-radius:10px}
.btn{background:rgba(255,255,255,0.3);color:white;padding:10px;border:none;border-radius:5px;cursor:pointer;margin:5px}
.btn:hover{background:rgba(255,255,255,0.5)}
</style>
</head>
<body>

<h1>üéµ Tunexa Dashboard</h1>
<p>Intelligent Audio Engine</p>

<div class="box">
<h2>System Status: <span id="status">Loading...</span></h2>
<button class="btn" onclick="checkHealth()">Check Health</button>
</div>

<div class="box">
<h3>üéØ Audio Certification</h3>
<button class="btn" onclick="testCert()">Test Certification</button>
<div id="certResult"></div>
</div>

<div class="box">
<h3>üîå OEM Integration</h3>
<button class="btn" onclick="testOEM()">Test Connection</button>
<div id="oemResult"></div>
</div>

<div class="box">
<h3>Links</h3>
<a href="http://localhost:3000/" target="_blank" style="color:white">API Root</a> |
<a href="http://localhost:3000/health" target="_blank" style="color:white">Health</a>
</div>

<script>
async function checkHealth() {
  try {
    const res = await fetch('http://localhost:3000/health');
    const data = await res.json();
    document.getElementById('status').innerHTML = '‚úÖ ' + data.status;
  } catch(e) {
    document.getElementById('status').innerHTML = '‚ùå Error';
  }
}

async function testCert() {
  try {
    const res = await fetch('http://localhost:3000/api/audio-certification/certify', {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({vehicle: 'BMW 3 Series'})
    });
    const data = await res.json();
    document.getElementById('certResult').innerHTML = '<pre>' + JSON.stringify(data, null, 2) + '</pre>';
  } catch(e) {
    document.getElementById('certResult').innerHTML = 'Error: ' + e.message;
  }
}

async function testOEM() {
  try {
    const res = await fetch('http://localhost:3000/api/oem-integration/connect', {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({protocol: 'CAN-FD'})
    });
    const data = await res.json();
    document.getElementById('oemResult').innerHTML = '<pre>' + JSON.stringify(data, null, 2) + '</pre>';
  } catch(e) {
    document.getElementById('oemResult').innerHTML = 'Error: ' + e.message;
  }
}

// Auto-check health on load
checkHealth();
</script>

</body>
</html>